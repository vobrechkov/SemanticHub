{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "Resilience": {
    "Enabled": true,
    "HttpClient": {
      "Retry": {
        "MaxAttempts": 3,
        "BaseDelayMs": 500,
        "UseExponentialBackoff": true,
        "MaxDelayMs": 30000
      },
      "CircuitBreaker": {
        "FailureThreshold": 0.5,
        "SamplingDurationSeconds": 30,
        "MinimumThroughput": 10,
        "BreakDurationSeconds": 30
      },
      "Timeout": {
        "TotalRequestTimeoutSeconds": 30
      }
    },
    "WebScraping": {
      "MaxAttempts": 3,
      "BaseDelayMs": 250,
      "UseExponentialBackoff": true,
      "MaxDelayMs": 10000
    }
  },
  "Ingestion": {
    "AzureOpenAI": {
      "Endpoint": "",
      "EmbeddingDeployment": "text-embedding-3-small",
      "ApiKey": ""
    },
    "AzureSearch": {
      "Endpoint": "",
      "ApiKey": "",
      "IndexName": "knowledge-index",
      "EnableSemanticRanker": false,
      "KeyField": "id",
      "ContentField": "content",
      "TitleField": "title",
      "SummaryField": "summary",
      "SemanticConfiguration": "semantic-config",
      "VectorField": "contentVector",
      "VectorDimensions": 1536,
      "VectorKNearestNeighbors": 8,
      "ParentDocumentField": "parentDocumentId",
      "ChunkTitleField": "chunkTitle",
      "ChunkIndexField": "chunkIndex",
      "MetadataField": "metadataJson"
    },
    "Chunking": {
      "MinTokenCount": 200,
      "MaxTokenCount": 500,
      "TargetTokenCount": 400,
      "OverlapPercentage": 0.1
    },
    "BlobStorage": {
      "Endpoint": "",
      "DefaultContainer": "documents",
      "ConnectionString": ""
    },
    "Sitemap": {
      "MaxPages": 200,
      "MaxDepth": 2,
      "MaxConcurrency": 3,
      "ThrottleMilliseconds": 250,
      "RespectRobotsTxt": true,
      "UserAgent": "SemanticHubIngestionBot/1.0",
      "FetchTimeoutSeconds": 30,
      "MaxSitemapBytes": 2000000,
      "RecencyHalfLifeDays": 30,
      "ChangeFrequencyWeight": 0.75
    },
    "OpenApi": {
      "MaxMarkdownSegmentLength": 8000
    },
    "HtmlExtraction": {
      "MinConfidenceThreshold": 0.6,
      "MaxLinkDensity": 0.3,
      "MinTextLength": 25,
      "MinParagraphCount": 3,
      "AggressiveCleaning": false,
      "IncludeImages": true,
      "IncludeLinks": true,
      "IncludeTables": true,
      "ResolveRelativeUrls": true,
      "PenalizeLinkDensity": true
    }
  }
}
